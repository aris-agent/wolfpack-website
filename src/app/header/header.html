<nav class="fixed top-0 left-0 right-0 z-50 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md shadow-sm border-b border-slate-200/50 dark:border-slate-700/50">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Logo -->
      <a routerLink="/" class="flex items-center gap-2 group">
        <div class="w-10 h-10 bg-gradient-to-br from-emerald-600 to-teal-600 dark:from-emerald-500 dark:to-teal-500 rounded-xl flex items-center justify-center transform group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-md overflow-hidden">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" fill="none" class="w-7 h-7 relative">
            <!-- Enhanced Wolf Pack Logo - Multiple wolves showing team -->
            <defs>
              <linearGradient id="wolfGradNew" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#ffffff"/>
                <stop offset="100%" stop-color="#f0fdf4"/>
              </linearGradient>
            </defs>
            <!-- Leader wolf (larger, back) -->
            <path d="M32 10 L38 22 L48 18 L44 32 L56 28 L48 46 L52 56 L36 58 L32 50 L28 58 L12 56 L16 46 L8 28 L20 32 L16 18 L26 22 Z" fill="url(#wolfGradNew)" stroke="#ffffff" stroke-width="1" stroke-linejoin="round" class="animate-pulse"/>
            <!-- Front wolf (smaller) -->
            <path d="M28 40 L32 48 L40 44 L36 54 L46 50 L40 62 L44 70 L32 72 L28 66 L24 72 L12 70 L16 62 L10 54 L22 50 L18 44 L26 48 Z" fill="url(#wolfGradNew)" stroke="#ffffff" stroke-width="0.5" stroke-linejoin="round" class="animate-pulse" style="animation-delay: 0.3s;"/>
            <!-- Eyes - Leader -->
            <ellipse cx="26" cy="34" rx="2.5" ry="3" fill="#0d9488"/>
            <ellipse cx="38" cy="34" rx="2.5" ry="3" fill="#0d9488"/>
            <circle cx="27" cy="33" r="1" fill="#ffffff"/>
            <circle cx="39" cy="33" r="1" fill="#ffffff"/>
            <!-- Eyes - Front wolf -->
            <ellipse cx="24" cy="58" rx="1.5" ry="2" fill="#14b8a6"/>
            <ellipse cx="36" cy="58" rx="1.5" ry="2" fill="#14b8a6"/>
            <circle cx="25" cy="57" r="0.8" fill="#ffffff"/>
            <circle cx="37" cy="57" r="0.8" fill="#ffffff"/>
          </svg>
        </div>
        <span class="text-2xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 dark:from-emerald-400 dark:to-teal-400 bg-clip-text text-transparent">Wolfpack</span>
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center gap-2">
        <a mat-button routerLink="/" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" 
           class="nav-link">Home</a>
        <a mat-button routerLink="/services" routerLinkActive="active-link" 
           class="nav-link">Services</a>
        <a mat-button routerLink="/about" routerLinkActive="active-link" 
           class="nav-link">About</a>
        <a mat-button routerLink="/blog" routerLinkActive="active-link" 
           class="nav-link">Blog</a>
        <a mat-button routerLink="/contact" routerLinkActive="active-link" 
           class="nav-link">Contact</a>
        
        <!-- Enhanced Dark Mode Toggle with better positioning -->
        <div class="flex items-center ml-6 pl-6 border-l border-slate-200 dark:border-slate-700">
          <button
            (click)="toggleDarkMode()"
            class="group relative inline-flex h-9 w-16 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900 hover:scale-105"
            [ngClass]="{
              'bg-gradient-to-r from-slate-700 to-slate-800': darkMode(),
              'bg-gradient-to-r from-slate-200 to-slate-300': !darkMode()
            }"
            role="switch"
            [attr.aria-checked]="darkMode()"
            [attr.aria-label]="darkMode() ? 'Switch to light mode' : 'Switch to dark mode'"
          >
            <!-- Toggle Circle with Icon and glow effect -->
            <span
              class="inline-flex h-7 w-7 items-center justify-center rounded-full bg-white dark:bg-slate-900 shadow-lg transform transition-all duration-300 ease-out"
              [ngClass]="{
                'translate-x-8 shadow-emerald-500/50': darkMode(),
                'translate-x-1 shadow-amber-500/50': !darkMode()
              }"
            >
              <!-- Sun Icon (Light Mode) -->
              <lucide-icon 
                *ngIf="!darkMode()"
                name="sun" 
                class="h-4 w-4 text-amber-500 animate-in spin-in-0 duration-300"
              ></lucide-icon>
              
              <!-- Moon Icon (Dark Mode) -->
              <lucide-icon 
                *ngIf="darkMode()"
                name="moon" 
                class="h-4 w-4 text-emerald-400 animate-in spin-in-0 duration-300"
              ></lucide-icon>
            </span>
            
            <!-- Background stars for dark mode -->
            <span 
              *ngIf="darkMode()"
              class="absolute inset-0 flex items-center justify-start pl-2 pointer-events-none"
            >
              <span class="w-1 h-1 bg-emerald-300 rounded-full opacity-60"></span>
              <span class="w-1 h-1 bg-emerald-400 rounded-full opacity-40 ml-1"></span>
            </span>
          </button>
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <div class="md:hidden flex items-center gap-3">
        <!-- Mobile Dark Mode Toggle -->
        <button
          (click)="toggleDarkMode()"
          class="group relative inline-flex h-8 w-14 items-center rounded-full transition-all duration-300 hover:scale-105"
          [ngClass]="{
            'bg-gradient-to-r from-slate-700 to-slate-800': darkMode(),
            'bg-gradient-to-r from-slate-200 to-slate-300': !darkMode()
          }"
          role="switch"
          [attr.aria-checked]="darkMode()"
          [attr.aria-label]="darkMode() ? 'Switch to light mode' : 'Switch to dark mode'"
        >
          <span
            class="inline-flex h-6 w-6 items-center justify-center rounded-full bg-white dark:bg-slate-900 shadow-lg transform transition-all duration-300 ease-out"
            [ngClass]="{
              'translate-x-7': darkMode(),
              'translate-x-1': !darkMode()
            }"
          >
            <lucide-icon 
              *ngIf="!darkMode()"
              name="sun" 
              class="h-3.5 w-3.5 text-amber-500"
            ></lucide-icon>
            <lucide-icon 
              *ngIf="darkMode()"
              name="moon" 
              class="h-3.5 w-3.5 text-emerald-400"
            ></lucide-icon>
          </span>
        </button>
        
        <button 
          mat-icon-button 
          (click)="toggleMenu()" 
          class="text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors"
        >
          <lucide-icon [name]="menuOpen ? 'x' : 'menu'" class="w-6 h-6"></lucide-icon>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div 
      *ngIf="menuOpen" 
      class="md:hidden py-4 border-t border-slate-200 dark:border-slate-700"
    >
      <div class="flex flex-col space-y-2">
        <a routerLink="/" routerLinkActive="active-mobile" [routerLinkActiveOptions]="{exact: true}"
           (click)="toggleMenu()"
           class="px-4 py-2 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-slate-800 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-200">
          Home
        </a>
        <a routerLink="/services" routerLinkActive="active-mobile"
           (click)="toggleMenu()"
           class="px-4 py-2 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-slate-800 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-200">
          Services
        </a>
        <a routerLink="/about" routerLinkActive="active-mobile"
           (click)="toggleMenu()"
           class="px-4 py-2 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-slate-800 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-200">
          About
        </a>
        <a routerLink="/blog" routerLinkActive="active-mobile"
           (click)="toggleMenu()"
           class="px-4 py-2 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-slate-800 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-200">
          Blog
        </a>
        <a routerLink="/contact" routerLinkActive="active-mobile"
           (click)="toggleMenu()"
           class="px-4 py-2 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-slate-800 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-200">
          Contact
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Spacer to prevent content from going under fixed nav -->
<div class="h-16"></div>
