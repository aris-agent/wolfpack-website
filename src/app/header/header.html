<nav class="fixed top-0 left-0 right-0 z-50 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md shadow-sm border-b border-slate-200/50 dark:border-slate-700/50">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Logo -->
      <a routerLink="/" class="flex items-center gap-2 group">
        <div class="w-10 h-10 bg-gradient-to-br from-emerald-600 to-teal-600 dark:from-emerald-500 dark:to-teal-500 rounded-xl flex items-center justify-center transform group-hover:scale-105 transition-all duration-300 shadow-md overflow-hidden">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 80" fill="none" class="w-8 h-6">
            <!-- Three Wolves - Pack Design -->
            <defs>
              <linearGradient id="wolfPackGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#ffffff"/>
                <stop offset="100%" stop-color="#f0fdf4"/>
              </linearGradient>
            </defs>
            <!-- Back wolf (larger, leader) -->
            <path d="M60 8 L68 20 L80 14 L74 30 L90 24 L78 44 L84 60 L64 66 L58 54 L52 66 L32 60 L42 44 L26 30 L42 34 L36 14 L48 20 Z" fill="url(#wolfPackGrad)" stroke="#ffffff" stroke-width="1" stroke-linejoin="round"/>
            <!-- Left wolf (medium) -->
            <path d="M25 40 L30 48 L38 44 L34 54 L46 50 L40 64 L44 74 L32 78 L26 70 L20 78 L8 74 L14 64 L6 54 L18 56 L14 44 L22 48 Z" fill="url(#wolfPackGrad)" stroke="#ffffff" stroke-width="0.8" stroke-linejoin="round" opacity="0.85"/>
            <!-- Right wolf (medium) -->
            <path d="M95 40 L90 48 L82 44 L86 54 L74 50 L80 64 L76 74 L88 78 L94 70 L100 78 L112 74 L106 64 L114 54 L102 56 L106 44 L98 48 Z" fill="url(#wolfPackGrad)" stroke="#ffffff" stroke-width="0.8" stroke-linejoin="round" opacity="0.85"/>
            <!-- Eyes - Leader -->
            <circle cx="56" cy="38" r="2" fill="#0d9488"/>
            <circle cx="72" cy="38" r="2" fill="#0d9488"/>
            <!-- Eyes - Left wolf -->
            <circle cx="22" cy="58" r="1.5" fill="#14b8a6"/>
            <circle cx="32" cy="58" r="1.5" fill="#14b8a6"/>
            <!-- Eyes - Right wolf -->
            <circle cx="88" cy="58" r="1.5" fill="#14b8a6"/>
            <circle cx="98" cy="58" r="1.5" fill="#14b8a6"/>
          </svg>
        </div>
        <span class="text-2xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 dark:from-emerald-400 dark:to-teal-400 bg-clip-text text-transparent">Wolfpack</span>
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center gap-2">
        <a mat-button routerLink="/" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" 
           class="nav-link">Home</a>
        <a mat-button routerLink="/services" routerLinkActive="active-link" 
           class="nav-link">Services</a>
        <a mat-button routerLink="/about" routerLinkActive="active-link" 
           class="nav-link">About</a>
        <a mat-button routerLink="/blog" routerLinkActive="active-link" 
           class="nav-link">Blog</a>
        <a mat-button routerLink="/contact" routerLinkActive="active-link" 
           class="nav-link">Contact</a>
        
        <!-- Enhanced Dark Mode Toggle with better positioning -->
        <div class="flex items-center ml-6 pl-6 border-l border-slate-200 dark:border-slate-700">
          <button
            (click)="toggleDarkMode()"
            class="group relative inline-flex h-9 w-16 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900 hover:scale-105"
            [ngClass]="{
              'bg-gradient-to-r from-slate-700 to-slate-800': darkMode(),
              'bg-gradient-to-r from-slate-200 to-slate-300': !darkMode()
            }"
            role="switch"
            [attr.aria-checked]="darkMode()"
            [attr.aria-label]="darkMode() ? 'Switch to light mode' : 'Switch to dark mode'"
          >
            <!-- Toggle Circle with Icon and glow effect -->
            <span
              class="inline-flex h-7 w-7 items-center justify-center rounded-full bg-white dark:bg-slate-900 shadow-lg transform transition-all duration-300 ease-out"
              [ngClass]="{
                'translate-x-8 shadow-emerald-500/50': darkMode(),
                'translate-x-1 shadow-amber-500/50': !darkMode()
              }"
            >
              <!-- Sun Icon (Light Mode) -->
              <lucide-icon 
                *ngIf="!darkMode()"
                name="sun" 
                class="h-4 w-4 text-amber-500 animate-in spin-in-0 duration-300"
              ></lucide-icon>
              
              <!-- Moon Icon (Dark Mode) -->
              <lucide-icon 
                *ngIf="darkMode()"
                name="moon" 
                class="h-4 w-4 text-emerald-400 animate-in spin-in-0 duration-300"
              ></lucide-icon>
            </span>
            
            <!-- Background stars for dark mode -->
            <span 
              *ngIf="darkMode()"
              class="absolute inset-0 flex items-center justify-start pl-2 pointer-events-none"
            >
              <span class="w-1 h-1 bg-emerald-300 rounded-full opacity-60"></span>
              <span class="w-1 h-1 bg-emerald-400 rounded-full opacity-40 ml-1"></span>
            </span>
          </button>
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <div class="md:hidden flex items-center gap-3">
        <!-- Mobile Dark Mode Toggle -->
        <button
          (click)="toggleDarkMode()"
          class="group relative inline-flex h-8 w-14 items-center rounded-full transition-all duration-300 hover:scale-105"
          [ngClass]="{
            'bg-gradient-to-r from-slate-700 to-slate-800': darkMode(),
            'bg-gradient-to-r from-slate-200 to-slate-300': !darkMode()
          }"
          role="switch"
          [attr.aria-checked]="darkMode()"
          [attr.aria-label]="darkMode() ? 'Switch to light mode' : 'Switch to dark mode'"
        >
          <span
            class="inline-flex h-6 w-6 items-center justify-center rounded-full bg-white dark:bg-slate-900 shadow-lg transform transition-all duration-300 ease-out"
            [ngClass]="{
              'translate-x-7': darkMode(),
              'translate-x-1': !darkMode()
            }"
          >
            <lucide-icon 
              *ngIf="!darkMode()"
              name="sun" 
              class="h-3.5 w-3.5 text-amber-500"
            ></lucide-icon>
            <lucide-icon 
              *ngIf="darkMode()"
              name="moon" 
              class="h-3.5 w-3.5 text-emerald-400"
            ></lucide-icon>
          </span>
        </button>
        
        <button 
          mat-icon-button 
          (click)="toggleMenu()" 
          class="text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors"
        >
          <lucide-icon [name]="menuOpen ? 'x' : 'menu'" class="w-6 h-6"></lucide-icon>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div 
      *ngIf="menuOpen" 
      class="md:hidden py-4 border-t border-slate-200 dark:border-slate-700"
    >
      <div class="flex flex-col space-y-2">
        <a routerLink="/" routerLinkActive="active-mobile" [routerLinkActiveOptions]="{exact: true}"
           (click)="toggleMenu()"
           class="px-4 py-2 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-slate-800 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-200">
          Home
        </a>
        <a routerLink="/services" routerLinkActive="active-mobile"
           (click)="toggleMenu()"
           class="px-4 py-2 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-slate-800 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-200">
          Services
        </a>
        <a routerLink="/about" routerLinkActive="active-mobile"
           (click)="toggleMenu()"
           class="px-4 py-2 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-slate-800 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-200">
          About
        </a>
        <a routerLink="/blog" routerLinkActive="active-mobile"
           (click)="toggleMenu()"
           class="px-4 py-2 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-slate-800 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-200">
          Blog
        </a>
        <a routerLink="/contact" routerLinkActive="active-mobile"
           (click)="toggleMenu()"
           class="px-4 py-2 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-slate-800 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-200">
          Contact
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Spacer to prevent content from going under fixed nav -->
<div class="h-16"></div>
